<mat-card *ngIf="!authorized">Error: Unauthorized </mat-card>
<mat-card *ngIf="authorized">
    <h1>Add a new time entry</h1>
    <form *ngIf="!isSuccessful" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
        <mat-form-field>
            <input matInput [ngxMatDatetimePicker]="picker" placeholder="Choose a date and a duration"
                [formControl]="dateControl" [disabled]="disabled">
            <mat-datepicker-toggle matSuffix [for]="$any(picker)"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #picker [showSpinners]="showSpinners" [showSeconds]="showSeconds"
                [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond" [touchUi]="touchUi"
                [color]="color" [enableMeridian]="enableMeridian" [disableMinute]="disableMinute" [hideTime]="hideTime">
            </ngx-mat-datetime-picker>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Projects</mat-label>
            <mat-select [(ngModel)]="form.id_project" #project="ngModel" name="project">
                <mat-option *ngFor="let item of projects" [value]="item.id_project">
                    {{item.project_name}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <button mat-raised-button color="primary">Add time</button>
        <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
            Add time failed!<br />{{ errorMessage }}
        </div>
    </form>
    <div class="alert alert-success" *ngIf="isSuccessful">
        Adding time is successful!
    </div>
</mat-card>